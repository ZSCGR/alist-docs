import{a as N}from"./index-CmmzNXUp.js";import{d as y,r as g,b as o,u as r,o as s,e as i,i as l,t as n,j as a,g as C,f as P,N as m,a4 as w}from"./app-DqXCIzdk.js";import{N as k}from"./Alert-CZm28bbR.js";import{N as x}from"./Input-OaynA7Vx.js";import{_ as V}from"./plugin-vue_export-helper-DlAUqK2U.js";const h="iYCeC9g08h5vuP9UqvPHKKSVrKFXGa1v",B="jXiFMOPVPCWlO2M5CwWQzffpNPaGTRBG",S="https://alist.nn.ci/tool/baidu/callback",T=y({__name:"Callback",setup(j){const c=new URL(window.location.href),u=c.searchParams.get("code"),p=c.searchParams.get("error"),v=c.searchParams.get("error_description"),t=g();return u&&!p&&(async()=>{const e=await(await fetch(`${N()}/alist/baidu/get_refresh_token?code=${u}`)).json();t.value=e})(),(b,e)=>!r(u)||r(p)?(s(),o(r(k),{key:0,title:r(p)||"Error",type:"error"},{default:i(()=>[l(n(r(v)),1)]),_:1},8,["title"])):(s(),o(r(m),{key:1,vertical:"",size:"large"},{default:i(()=>{var d,_,f;return[a("p",null,[e[0]||(e[0]=a("b",null,"client_id: ",-1)),l(n(h))]),a("p",null,[e[1]||(e[1]=a("b",null,"client_secret: ",-1)),l(n(B))]),a("p",null,[e[2]||(e[2]=a("b",null,"redirect_uri: ",-1)),l(n(S))]),(d=t.value)!=null&&d.error||(_=t.value)!=null&&_.error_description?(s(),o(r(k),{key:0,title:(f=t.value)==null?void 0:f.error,type:"error"},{default:i(()=>[l(n(t.value.error_description),1)]),_:1},8,["title"])):C("v-if",!0),P(r(m),{vertical:""},{default:i(()=>[e[3]||(e[3]=a("b",null,"refresh_token:",-1)),t.value?(s(),o(r(x),{key:1,type:"textarea",autosize:"",readonly:"",value:t.value.refresh_token},null,8,["value"])):(s(),o(r(w),{key:0}))]),_:1,__:[3]})]}),_:1}))}}),O=V(T,[["__scopeId","data-v-ec73cb46"]]);export{O as C};
